
<br>


<div class="container">
  <nav class ="navbar">
    <input class = "form-control" type = "text" name="cause" [(ngModel)] = "cause" (ngModelChange) = "Search()"
    placeholder="enter cause to search">
  </nav>
  <input (change)="fieldsChange($event)" value="angular" type="checkbox"/>
      <table class="table table-dark">
        <thead class="thead-dark">
            <tr>
                <th (click) = "sort('id')" >Id&nbsp;<i class="fa fa-sort"></i></th>
                <th (click) = "sort('typeOfInc')" >Type of inc&nbsp;<i class="fa fa-sort"></i></th>             
                <th (click) = "sort('priority')" >Priority&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('confirmed')" >Confirmed&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('status')" >Status&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('eta')" >ETA&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('ata')" >ATA&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('outageTime')" >Outage time&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('etr')" >ETR&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('affectedCustomers')" >Affected customers&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('calls')" >Calls&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('voltageLevel')" >Voltage level&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('scheduledTime')" >Scheduled time&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('cause')" >Cause&nbsp;<i class="fa fa-sort"></i></th>         
                <th (click) = "sort('subcause')" >Subcause&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('constructionType')" >Construction type&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('material')" >Material&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('hazard')" >Hazard&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('consumerId')" >Consumer Id&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('comment')" >Comment&nbsp;<i class="fa fa-sort"></i></th>    
                <th (click) = "sort('reason')" >Reason&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('equipmentId')" >Device Id&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('imageData')" >Imagedata&nbsp;<i class="fa fa-sort"></i></th>             
                <th (click) = "sort('crewId')" >Crew Id&nbsp;<i class="fa fa-sort"></i></th> 
                <th (click) = "sort('assignedTo')" >Made by&nbsp;<i class="fa fa-sort"></i></th> 

  
  
  
            </tr>
      </thead>
      <tbody>
        <tr *ngFor="let incident of allIncidents | slice: (page-1) * pageSize : page * pageSize | orderBy : key : reverse">
            <td>{{incident.id.toString()}}</td>
            <td>{{incident.typeOfInc}}</td>
            <td>{{incident.priority}}</td>
            <td>{{incident.confirmed}}</td>
            <td>{{incident.status}}</td>
            <td>{{incident.eta}}</td>
            <td>{{incident.ata}}</td>
            <td>{{incident.outageTime}}</td>
            <td>{{incident.etr}}</td>
            <td>{{incident.affectedCustomers.toString()}}</td>
            <td>{{incident.calls.toString()}}</td>
            <td>{{incident.voltageLevel}}</td>
            <td>{{incident.scheduledTime}}</td>


            <td>{{incident.cause}}</td>
            <td>{{incident.subcause}}</td>
            <td>{{incident.constructionType}}</td>
            <td>{{incident.material}}</td>
            <td>{{incident.hazard}}</td>
            <td>{{incident.consumerId}}</td>
            <td>{{incident.comment}}</td>
           
            <td>{{incident.reason}}</td>
            <td>{{incident.equipmentId}}</td>
            <td>{{incident.imageData}}</td>
            <td>{{incident.crewId}}</td>
            <td>{{incident.assignedTo}}</td>
      
          </tr> 
      </tbody>
      
      </table>
    
      <br> <br>
      <div class="container__pagination">
        <ngb-pagination 
          [(page)]="page"
          [pageSize]="pageSize"
          [collectionSize]="allIncidents.length"></ngb-pagination>
        </div>
    </div>
    
  
